version: '3.8'

services:
  frontend:
    build:
      context: ./frontend
      dockerfile: Dockerfile
    image: public.ecr.aws/fintrax/staging-frontend:${IMAGE_TAG:-latest}

  api-gateway:
    build:
      context: ./services/api-gateway
      dockerfile: Dockerfile
    image: public.ecr.aws/fintrax/staging-api-gateway:${IMAGE_TAG:-latest}

  transaction-service:
    build:
      context: ./services/transaction-service
      dockerfile: Dockerfile
    image: public.ecr.aws/fintrax/staging-transaction-service:${IMAGE_TAG:-latest}

  account-service:
    build:
      context: ./services/account-service
      dockerfile: Dockerfile
    image: public.ecr.aws/fintrax/staging-account-service:${IMAGE_TAG:-latest}

  category-service:
    build:
      context: ./services/category-service
      dockerfile: Dockerfile
    image: public.ecr.aws/fintrax/staging-category-service:${IMAGE_TAG:-latest}
